# TheEnd 游戏设计深化文档 (GameDesign.md)

本文档基于 `TheEnd.md` 和 `RoadMap.md`，旨在进一步细化游戏的核心画面、表现效果及机制，为开发提供更具体的设计参考。

## 一、 核心视觉哲学

`TheEnd` 的世界由纯粹的几何构成。我们不依赖贴图，而是通过 **程序化生成** 的方块、线条、棱形来构建一切。视觉的核心是 **几何与色彩的微妙映射**，旨在创造一种难以言喻的、独特的沉浸感。

-   **主色调:** 采用低饱和度的色彩方案。背景是深邃的暗色（如深灰、暗蓝），而核心交互元素（判定线、音符）则使用对比鲜明的淡色（如白色、淡灰色）。
-   **强调色:** 在关键的交互瞬间，会使用饱和度极高的颜色（如深红、亮黄）作为点缀，例如音符即将命中或被完美击中时，产生一瞬的色彩冲击，旋即消失。
-   **风格:** 简约、内敛、抽象。视觉的重点在于几何图形本身的 **形状、运动轨迹和优雅的组合与分解**。所有元素都应有锐利的边缘和清晰的轮廓。

### 关于辉光 (Glow Effect) 的运用原则

辉光是几何的点缀，而非主体。它被用来巧妙地增强视觉层次感、能量感和动态反馈，但绝不能模糊几何形状本身。
-   **克制:** 在常规状态下，辉光应非常柔和、微妙，仅仅是为了让几何体在深色背景中略微“浮起”。
-   **爆发:** 在关键的交互事件（如音符命中）中，辉光可以瞬间增强，与强调色结合，创造强烈的视觉反馈，然后迅速收敛。
-   **同色系:** 辉光颜色通常与其所附着的几何体颜色保持一致。

## 二、 核心游戏元素设计

### 1. 判定线 (Judgement Line)

-   **外观:** 一条极为纤细的白色线条，外层包裹着一层非常柔和、几乎不可见的同色辉光。
-   **动态效果:**
    -   **待机状态:** 判定线进行“呼吸”，其 **线宽和辉光强度** 会同步进行周期性的微小变化。
    -   **移动/旋转:** 移动时会留下一道淡淡的、几何形状的拖影。
    -   **判定反馈:** 当音符被准确点击时，判定线自身会短暂地 **增粗、变为强调色（如深红），并且其辉光会瞬间增强**，同时向外扩散出一道同样颜色和辉光的细线冲击波。

### 2. 音符 (Notes)

所有音符都遵循极简的几何设计。

-   **短键 (Tap):**
    -   **外观:** 一个标准的白色四边形，带有一层极其微弱的同色辉光。当它接近判定线时，其内部会浮现一个向中心汇聚的、由细线构成的同心矩形。
    -   **击中效果:** 被击中时，该方块会分解成数个 **带有柔和辉光的旋转线段** 飞散消失。完美的（Perfect）判定会伴随一瞬的强调色与增强辉光的闪烁。

-   **长键 (Hold):**
    -   **外观:** 由两条平行的、带有微弱辉光的细线组成。两条线之间是接近透明的、有极细网格纹理的填充区。
    -   **持续效果:** 当玩家按住长键时，填充区域的网格会有微妙的流动动画，并且长键线条的辉光会有能量流动的效果。
    -   **结束效果:** 成功完成长按后，结束线条会像 Tap 一样分解。

-   **滑键 (Drag):**
    -   **外观:** 一系列连续的、由点或小菱形构成的路径，其辉光比普通音符稍亮。

-   **黄条 (Flick):**
    -   **外观:** 一个带有箭头标识的、颜色为强调色（如亮黄色）的方块，辉光也为同色。
    -   **击中效果:** 当被正确方向“拨动”时，它会沿着该方向拉伸变形，然后分解成发光的线段飞出屏幕。

## 三、 场景与背景

-   **动态背景:** 背景由大量缓慢移动、旋转的 **深灰色几何图形（主要是线条和立方体）** 组成，每个图形都带有一层非常暗淡的辉光，以创造深邃的星云感。
-   **层次感:** 背景元素分为多个图层，以不同的速度和透明度移动，辉光的强度也可以不同，以创造视觉空间感。

## 四、 UI 与菜单

-   **按钮:** 所有UI按钮都是由简单的、带有微弱辉光的白色线条框构成的矩形。当鼠标悬停或手指触摸时，线条框和辉光会同时变亮。
-   - **过渡动画:** 场景切换将通过几何图形的组合与分解完成，整个过程可以伴随辉光的渐强与渐弱。
