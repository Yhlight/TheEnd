# TheEnd 项目开发路线图

本项目将遵循增量开发的原则，分阶段实现 `TheEnd.md` 中描述的各项功能。每个阶段都将侧重于一部分核心功能的开发与完善，确保项目稳步推进。

## 第一阶段：项目初始化与基础框架搭建

- **目标:** 搭建项目基本结构，实现一个可运行的最小化游戏框架。
- **任务:**
    1.  **项目创建:**
        -   使用 Vue.js (Vue 3) 初始化项目。
        -   配置 Vite 或 Webpack 作为构建工具。
    2.  **目录结构:**
        -   规划源代码目录结构（`src`），包括 `components`, `assets`, `views`, `core` (核心逻辑) 等。
    3.  **版本控制:**
        -   创建并配置 `.gitignore` 文件，忽略 `node_modules`, `dist` 等非源代码文件。
    4.  **基础游戏循环:**
        -   实现一个简单的游戏循环（Game Loop），用于后续渲染和逻辑更新。
    5.  **渲染画布:**
        -   在主页面中创建一个游戏画布（Canvas 或 SVG），作为游戏元素的渲染区域。

## 第二阶段：核心游戏机制实现

- **目标:** 实现音游的核心玩法，包括谱面解析、音符下落与判定。
- **任务:**
    1.  **谱面设计与解析:**
        -   定义谱面文件的 JSON 结构。
        -   编写谱面解析器，读取并加载谱面数据。
    2.  **音符系统:**
        -   创建不同类型的音符（Note）对象：短键（Tap）、长键（Hold）、滑键（Drag）、黄条（Flick）。
        -   实现音符的下落逻辑。
    3.  **判定线:**
        -   在画布上绘制可移动的判定线。
        -   实现判定线根据谱面指令进行移动、旋转等动画。
    4.  **输入与判定:**
        -   监听用户输入（鼠标点击/触摸）。
        -   实现音符与输入的碰撞检测和判定逻辑（Perfect, Good, Miss）。
    5.  **音频同步:**
        -   实现音乐播放与游戏进程的精确同步。

## 第三阶段：视觉效果与UI设计

- **目标:** 专注于画面的艺术风格和用户界面，实现 `TheEnd.md` 中描述的视觉效果。
- **任务:**
    1.  **视觉风格实现:**
        -   使用 HTML/CSS 或 Canvas API 绘制由方块、线条、棱形构成的视觉元素。
        -   实现点击、判定等核心操作的视觉特效。
    2.  **主菜单界面:**
        -   设计并实现游戏主菜单，包含漂浮结晶、微动画等元素。
        -   创建“开始游戏”、“设置”、“退出”等按钮。
    3.  **游戏界面 (HUD):**
        -   在游戏界面绘制得分（Score）、连击（Combo）、进度条等UI元素。
        -   确保UI风格与整体视觉风格统一（以方形为主）。
    4.  **选曲界面:**
        -   设计图集式的铺面选择界面。

## 第四阶段：功能完善与体验优化

- **目标:** 增加游戏设置、音效等辅助功能，提升玩家体验。
- **任务:**
    1.  **设置菜单:**
        -   实现设置界面，允许玩家调整：
            -   音量（背景音乐、音效）。
            -   下落速度。
            -   背景亮度。
            -   判定延迟（Offset）。
    2.  **音效系统:**
        -   为按键点击、判定成功/失败等事件添加音效。
    3.  **暂停与恢复:**
        -   实现游戏过程中的暂停与恢复功能。
    4.  **性能优化:**
        -   优化渲染逻辑，确保在低端设备上也能流畅运行。

## 第五阶段：谱面工坊（自制谱）

- **目标:** 创建一个功能完善的谱面编辑器，让玩家可以创建和分享自己的谱面。
- **任务:**
    1.  **编辑器UI设计:**
        -   设计一个用户友好的谱面编辑界面，主要面向电脑端。
    2.  **核心编辑功能:**
        -   在时间轴上添加、删除、修改不同类型的音符。
        -   设置判定线的移动和旋转事件。
    3.  **媒体导入:**
        -   支持导入音频文件和谱面封面图片。
    4.  **谱面导出/导入:**
        -   实现将编辑好的谱面数据导出为 JSON 文件，并能重新导入进行编辑。

## 第六阶段：平台适配与发布

- **目标:** 将游戏适配到安卓平台，并为发布做准备。
- **任务:**
    1.  **移动端适配:**
        -   调整 UI 布局，适配不同尺寸的安卓设备屏幕。
        -   优化触摸输入逻辑。
    2.  **打包构建:**
        -   使用 Capacitor.js 或类似工具将网页应用打包为安卓 APK。
    3.  **最终测试:**
        -   在真实的安卓设备上进行全面测试，修复 Bug。
    4.  **文档编写:**
        -   编写简单的用户手册和开发者文档。
