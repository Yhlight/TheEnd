# TheEnd 项目开发路线图

本项目将遵循增量开发的原则，分为多个阶段，优先关注核心功能和视觉效果的实现。

## Phase 1: 项目初始化与核心渲染引擎 (1-2 周)

此阶段的目标是搭建项目的基础框架，并实现一个可以渲染基本图形和动态判定线的核心引擎。

- **任务:**
  1.  **项目结构:**
      - 创建标准的 Web 项目目录 (`index.html`, `css/`, `js/`, `assets/`)。
      - 初始化 Vue.js 3 项目。
      - 创建并配置 `.gitignore` 文件，忽略 `node_modules`, `dist` 等目录。
  2.  **渲染引擎:**
      - 在 `index.html` 中设置 HTML5 Canvas 元素。
      - 封装一个渲染模块 (`Renderer.js`)，用于在 Canvas 上绘制基本图形（矩形、线条）。
      - 实现游戏主循环 (Game Loop)。
  3.  **判定线:**
      - 在渲染引擎中实现一个可编程的判定线。
      - 判定线应能根据给定的参数进行移动、旋转和变色。

## Phase 2: 音符系统与基本玩法 (2-3 周)

此阶段专注于实现游戏的核心玩法，包括音符的生成、下落、判定和计分。

- **任务:**
  1.  **音符系统:**
      - 设计并实现不同类型的音符类 (Tap, Hold, Drag)。
      - 实现音符的生成和下落逻辑。
  2.  **铺面系统:**
      - 设计一个简单的铺面数据结构（例如 JSON 格式），用于定义音符序列和判定线行为。
      - 创建一个铺面加载器，用于解析铺面文件。
  3.  **交互与判定:**
      - 实现用户输入处理（鼠标点击/触摸）。
      - 实现音符判定逻辑（Perfect, Good, Miss）。
      - 实现基础的计分系统。
  4.  **音画同步:**
      - 集成音频播放功能。
      - 实现音乐播放与铺面数据的基本同步。

## Phase 3: UI/UX 与视觉特效 (2-3 周)

此阶段将重点打磨游戏的视觉表现，使其符合项目要求。

- **任务:**
  1.  **游戏界面 (UI):**
      - 使用 Vue.js 构建游戏主菜单（铺面选择）。
      - 构建游戏内 UI（分数、进度条、暂停按钮）。
      - 保证所有 UI 元素符合“方形”为主的设计风格。
  2.  **视觉特效 (VFX):**
      - 实现点击特效（方块迸发、辉光）。
      - 为判定线和音符添加辉光和线条效果。
      - 制定整体的色彩方案（偏白/灰或偏深红/黑）。

## Phase 4: 高级功能与设置 (1-2 周)

此阶段将完善游戏的功能性，提供更多自定义选项。

- **任务:**
  1.  **设置菜单:**
      - 实现完整的设置界面。
      - 添加音量、下落速度、背景亮度、音效延迟等调整选项。
  2.  **游戏流程:**
      - 实现暂停和恢复功能。
      - 实现结算界面，展示本次游玩的最终得分和评级。

## Phase 5: 铺面编辑器 (3-4 周)

此阶段将开发一个强大的自制铺面工具，这是项目的核心之一。

- **任务:**
  1.  **编辑器 UI:**
      - 设计并实现铺面编辑器的用户界面。
      - 包括时间轴、音符工具箱、谱面预览等模块。
  2.  **核心功能:**
      - 在时间轴上可视化音频波形。
      - 支持拖拽放置和编辑不同类型的音符。
      - 支持编程控制判定线的运动轨迹。
      - 实现铺面的保存和加载功能。

## Phase 6: 平台适配与优化 (1-2 周)

此阶段专注于将应用打包到目标平台（安卓），并进行性能优化。

- **任务:**
  1.  **移动端适配:**
      - 使用 Capacitor 或 Cordova 将 Web 应用打包为安卓 APK。
      - 优化移动端触摸操作。
  2.  **性能优化:**
      - 分析并优化渲染性能瓶颈。
      - 减少资源加载时间，优化启动速度。

## Phase 7: 社区与迭代

- **任务:**
  1.  **社区功能:**
      - 搭建一个简单的社区或平台，供玩家分享自制铺面。
  2.  **持续迭代:**
      - 根据用户反馈修复 Bug，并添加新功能或新铺面。
